(window.webpackJsonp=window.webpackJsonp||[]).push([[5],{zDS0:function(t,e,c){"use strict";c.r(e),c.d(e,"HttpLoaderFactory",(function(){return St})),c.d(e,"MRModule",(function(){return Mt}));var i=c("tyNb"),s=c("ofXK"),a=c("3Pt+"),n=c("fXoL"),r=c("G048"),o=c("+y0u"),l=c("LiVn");let d=(()=>{class t{constructor(t,e,c){this.master=t,this.connectionService=e,this.globalx=c,this.Error=""}ngOnInit(){}}return t.\u0275fac=function(e){return new(e||t)(n.Wb(r.a),n.Wb(o.a),n.Wb(l.a))},t.\u0275cmp=n.Qb({type:t,selectors:[["app-dashboard"]],decls:53,vars:0,consts:[[1,"content-wrapper"],[1,"page-header"],[1,"page-title"],[1,"row","dashboardcard"],[1,"col-md-4","stretch-card","grid-margin"],[1,"card","bg-primary","text-white"],[1,"card-body"],[1,"font-weight-normal","mb-3","d-flex","align-items-center"],[1,"mdi","mdi-chart-line","mdi-24px","float-right"],[1,"mb-1"],[1,"card","bg-secondary","text-white"],[1,"card","bg-dark","text-white"],[1,"card","bg-success","text-white"],[1,"card","bg-warning","text-white"],[1,"card","bg-danger","text-white"]],template:function(t,e){1&t&&(n.bc(0,"div",0),n.bc(1,"div",1),n.bc(2,"h3",2),n.Tc(3," Dashboard "),n.ac(),n.ac(),n.bc(4,"div",3),n.bc(5,"div",4),n.bc(6,"div",5),n.bc(7,"div",6),n.bc(8,"h4",7),n.Tc(9,"Telecommunication Completed"),n.Xb(10,"i",8),n.ac(),n.bc(11,"h2",9),n.Tc(12,"120"),n.ac(),n.ac(),n.ac(),n.ac(),n.bc(13,"div",4),n.bc(14,"div",10),n.bc(15,"div",6),n.bc(16,"h4",7),n.Tc(17,"Today Telecommunication "),n.Xb(18,"i",8),n.ac(),n.bc(19,"h2",9),n.Tc(20,"12"),n.ac(),n.ac(),n.ac(),n.ac(),n.bc(21,"div",4),n.bc(22,"div",11),n.bc(23,"div",6),n.bc(24,"h4",7),n.Tc(25,"Today Telecommunication Hours"),n.Xb(26,"i",8),n.ac(),n.bc(27,"h2",9),n.Tc(28,"00 Hr 36 Min"),n.ac(),n.ac(),n.ac(),n.ac(),n.bc(29,"div",4),n.bc(30,"div",12),n.bc(31,"div",6),n.bc(32,"h4",7),n.Tc(33,"Total Telecommunication Hours"),n.Xb(34,"i",8),n.ac(),n.bc(35,"h2",9),n.Tc(36,"67 Hr 36 Min"),n.ac(),n.ac(),n.ac(),n.ac(),n.bc(37,"div",4),n.bc(38,"div",13),n.bc(39,"div",6),n.bc(40,"h4",7),n.Tc(41,"Avg Telecommunication Hours"),n.Xb(42,"i",8),n.ac(),n.bc(43,"h2",9),n.Tc(44,"34 Hr 12 Min"),n.ac(),n.ac(),n.ac(),n.ac(),n.bc(45,"div",4),n.bc(46,"div",14),n.bc(47,"div",6),n.bc(48,"h4",7),n.Tc(49,"Today's Avg Telecommunication Hours"),n.Xb(50,"i",8),n.ac(),n.bc(51,"h2",9),n.Tc(52,"34 Hr 12 Min"),n.ac(),n.ac(),n.ac(),n.ac(),n.ac(),n.ac())},styles:[""]}),t})();var b=c("IScl"),h=c("wd/R"),m=c("OlR4"),p=c("ISnR"),u=c("OC8m"),f=c("JqCM"),g=c("0IaG"),v=c("jVCT"),w=c("sYmb");function y(t,e){1&t&&(n.bc(0,"div"),n.Tc(1,"First Name is required"),n.ac())}function I(t,e){if(1&t&&(n.bc(0,"div",33),n.Rc(1,y,2,0,"div",34),n.ac()),2&t){const t=n.pc();n.Jb(1),n.wc("ngIf",t.f.FirstName.errors.required)}}function T(t,e){1&t&&(n.bc(0,"div"),n.Tc(1,"Middle Name is required"),n.ac())}function D(t,e){if(1&t&&(n.bc(0,"div",33),n.Rc(1,T,2,0,"div",34),n.ac()),2&t){const t=n.pc();n.Jb(1),n.wc("ngIf",t.f.MiddleName.errors.required)}}function S(t,e){1&t&&(n.bc(0,"div"),n.Tc(1,"Last Name is required"),n.ac())}function M(t,e){if(1&t&&(n.bc(0,"div",33),n.Rc(1,S,2,0,"div",34),n.ac()),2&t){const t=n.pc();n.Jb(1),n.wc("ngIf",t.f.LastName.errors.required)}}function C(t,e){1&t&&(n.bc(0,"div"),n.Tc(1,"Gender is required"),n.ac())}function J(t,e){if(1&t&&(n.bc(0,"div",33),n.Rc(1,C,2,0,"div",34),n.ac()),2&t){const t=n.pc();n.Jb(1),n.wc("ngIf",t.f.GenderId.errors.required)}}function N(t,e){if(1&t&&(n.bc(0,"option",35),n.Tc(1),n.ac()),2&t){const t=e.$implicit;n.xc("value",t.stateId),n.Jb(1),n.Vc(" ",t.stateName," ")}}function F(t,e){1&t&&(n.bc(0,"div"),n.Tc(1,"State is required"),n.ac())}function R(t,e){if(1&t&&(n.bc(0,"div",33),n.Rc(1,F,2,0,"div",34),n.ac()),2&t){const t=n.pc();n.Jb(1),n.wc("ngIf",t.f.StateId.errors.required)}}function q(t,e){if(1&t&&(n.bc(0,"option",35),n.Tc(1),n.ac()),2&t){const t=e.$implicit;n.xc("value",t.districtId),n.Jb(1),n.Vc(" ",t.districtName," ")}}function x(t,e){1&t&&(n.bc(0,"div"),n.Tc(1,"District is required"),n.ac())}function E(t,e){if(1&t&&(n.bc(0,"div",33),n.Rc(1,x,2,0,"div",34),n.ac()),2&t){const t=n.pc();n.Jb(1),n.wc("ngIf",t.f.DistrictId.errors.required)}}function k(t,e){if(1&t&&(n.bc(0,"option",35),n.Tc(1),n.ac()),2&t){const t=e.$implicit;n.xc("value",t.cityId),n.Jb(1),n.Vc(" ",t.cityName," ")}}function P(t,e){1&t&&(n.bc(0,"div"),n.Tc(1,"City is required"),n.ac())}function O(t,e){if(1&t&&(n.bc(0,"div",33),n.Rc(1,P,2,0,"div",34),n.ac()),2&t){const t=n.pc();n.Jb(1),n.wc("ngIf",t.f.CityId.errors.required)}}function B(t,e){1&t&&(n.bc(0,"div"),n.Tc(1,"MR Address is required"),n.ac())}function W(t,e){if(1&t&&(n.bc(0,"div",33),n.Rc(1,B,2,0,"div",34),n.ac()),2&t){const t=n.pc();n.Jb(1),n.wc("ngIf",t.f.MrAddress.errors.required)}}function A(t,e){1&t&&(n.bc(0,"div"),n.Tc(1,"MR License Number is required"),n.ac())}function H(t,e){if(1&t&&(n.bc(0,"div",33),n.Rc(1,A,2,0,"div",34),n.ac()),2&t){const t=n.pc();n.Jb(1),n.wc("ngIf",t.f.MrLicenseNumber.errors.required)}}function L(t,e){1&t&&(n.bc(0,"div"),n.Tc(1,"Contact Mobile is required"),n.ac())}function V(t,e){1&t&&(n.bc(0,"div"),n.Tc(1,"Enter only number."),n.ac())}function _(t,e){1&t&&(n.bc(0,"div"),n.Tc(1,"Enter valid number."),n.ac())}function X(t,e){if(1&t&&(n.bc(0,"div",33),n.Rc(1,L,2,0,"div",34),n.Rc(2,V,2,0,"div",34),n.Rc(3,_,2,0,"div",34),n.ac()),2&t){const t=n.pc();n.Jb(1),n.wc("ngIf",t.f.Mobile.errors.required),n.Jb(1),n.wc("ngIf",t.f.Mobile.errors.pattern),n.Jb(1),n.wc("ngIf",t.f.Mobile.errors.minlength)}}function G(t,e){1&t&&(n.bc(0,"div"),n.Tc(1,"PinCode is required"),n.ac())}function U(t,e){1&t&&(n.bc(0,"div"),n.Tc(1,"Enter only number."),n.ac())}function j(t,e){1&t&&(n.bc(0,"div"),n.Tc(1,"Enter valid number."),n.ac())}function $(t,e){if(1&t&&(n.bc(0,"div",33),n.Rc(1,G,2,0,"div",34),n.Rc(2,U,2,0,"div",34),n.Rc(3,j,2,0,"div",34),n.ac()),2&t){const t=n.pc();n.Jb(1),n.wc("ngIf",t.f.PinCode.errors.required),n.Jb(1),n.wc("ngIf",t.f.PinCode.errors.pattern),n.Jb(1),n.wc("ngIf",t.f.PinCode.errors.minlength)}}const z=function(t){return{"is-invalid":t}};let K=(()=>{class t{constructor(t,e,c,i,s,n,r,o,l,d){this.nav=t,this.commonsv=e,this.sv=c,this.master=i,this.notifyService=s,this.spinner=n,this._route=r,this.datePipe=o,this.dialog=l,this.spscv=d,this.submitted=!1,this.reg="(https?://)?([\\da-z.-]+)\\.([a-z.]{2,6})[/\\w .-]*/?",this.userForm=new a.g({MrId:new a.d("",a.w.required),FirstName:new a.d("",a.w.required),MiddleName:new a.d("",a.w.required),LastName:new a.d("",a.w.required),GenderId:new a.d("",a.w.required),CompanyId:new a.d("",a.w.required),CountryId:new a.d("1",a.w.required),StateId:new a.d("",a.w.required),DistrictId:new a.d("",a.w.required),CityId:new a.d("",a.w.required),MrAddress:new a.d("",a.w.required),MrLicenseNumber:new a.d("",a.w.required),Mobile:new a.d("",[a.w.required,a.w.pattern("^[0-9]*$"),a.w.minLength(10)]),MrLicenseImage:new a.d(""),DOB:new a.d("",a.w.required),Age:new a.d("0",a.w.required),PinCode:new a.d("",[a.w.required,a.w.pattern("^[0-9]*$"),a.w.minLength(6)]),Status:new a.d(!0,a.w.required)})}ngOnInit(){this.startDate=new Date(Date.now()),this.commonsv.getactivecompany().subscribe(t=>{this.allcompanylist=t.lstModel}),this.commonsv.getstates().subscribe(t=>{this.allstatelst=t.lstModel}),this.sv.getprofile().subscribe(t=>{const e=h(t.model.DOB);this.userForm.controls.DOB.setValue(e),this.mrinfo=t.model,Object.getOwnPropertyNames(this.mrinfo).forEach(e=>{this.userForm.contains(e)&&("DOB"==e||this.userForm.controls[e].setValue(t.model[e]),"StateId"==e&&this.onStateSelected(t.model[e]),"DistrictId"==e&&this.onDistrictSelected(t.model[e]))})})}getToday(){return(new Date).toISOString().split("T")[0]}get f(){return this.userForm.controls}Save(){if(this.submitted=!0,this.userForm.valid){this.spinner.show();let t=this.userForm.value;t.GenderId=parseInt(t.GenderId),t.DoctorId=parseInt(t.DoctorId),t.HospitalId=parseInt(t.HospitalId),t.BranchId=parseInt(t.BranchId),t.DepartmentId=parseInt(t.DepartmentId),t.HospitalId=parseInt(t.HospitalId),t.StateId=parseInt(t.StateId),t.DistrictId=parseInt(t.DistrictId),t.CountryId=parseInt(t.CountryId),t.CityId=parseInt(t.CityId),t.SpecialityId=parseInt(t.SpecialityId),t.DOB=new Date(t.DOB),t.Age=parseInt(t.Age),null!=this.imageSrc&&(t.ImagePath=this.imageSrc.split(",")[1],t.FileName=this.imagename,t.FileFlag=this.imagetype),t.Status=1==t.Status?1:0,this.sv.updateprofile(t).subscribe(t=>{1==t.success&&1==t.status?(this.spinner.hide(),this.notifyService.showSuccess("Update successfully","")):(this.notifyService.showError(t.message,""),this.spinner.hide())},t=>{this.notifyService.showError("something went wrong",""),this.spinner.hide()})}}onStateSelected(t){this.alldistrictlst=[],this.userForm.controls.DistrictId.setValue(""),this.allcitylst=[],this.userForm.controls.CityId.setValue(""),""!=t&&null!=t?this.commonsv.getdistricts(t).subscribe(t=>{this.alldistrictlst=t.lstModel}):this.alldistrictlst=[]}onDistrictSelected(t){this.allcitylst=[],this.userForm.controls.CityId.setValue(""),""!=t&&null!=t?this.commonsv.getcity(t).subscribe(t=>{this.allcitylst=t.lstModel}):this.allcitylst=[]}handleFileInput(t){let e=t.target.files[0];if("image/png"==e.type||"image/jpeg"==e.type||"application/pdf"==e.type){let s=e.name,a=e.type;var c=t.dataTransfer?t.dataTransfer.files[0]:t.target.files[0],i=new FileReader;this.imagename=s,this.imagetype=a,i.onload=this._handleReaderLoaded.bind(this),i.readAsDataURL(c)}else this.imagename="",this.imagetype="",this.imageSrc=null,this.notifyService.showError("Please select valid file","")}_handleReaderLoaded(t){this.imageSrc=t.target.result}getInvoiceUrl(){return this.imageSrc}AddSpeciality(){this.dialog.open(b.a,{width:"450px",data:{Message:"Are you sure to Speciality ?"}}).afterClosed().subscribe(t=>{1==t.Confirmation&&this.spscv.Save({SpecialityName:t.SpecialityName,Description:t.Description,Status:1}).subscribe(t=>{1==t.success&&1==t.status?(this.notifyService.showSuccess("Add successfully",""),this.spinner.hide(),this.refreshspeciality()):(this.spinner.hide(),this.notifyService.showError(t.message,""))},t=>{this.spinner.hide(),this.notifyService.showError("something went wrong","")})})}refreshspeciality(){this.commonsv.getactivespeciality().subscribe(t=>{this.allspecialitylst=t.lstModel})}}return t.\u0275fac=function(e){return new(e||t)(n.Wb(i.b),n.Wb(m.a),n.Wb(p.a),n.Wb(r.a),n.Wb(u.a),n.Wb(f.c),n.Wb(i.a),n.Wb(s.e),n.Wb(g.b),n.Wb(v.a))},t.\u0275cmp=n.Qb({type:t,selectors:[["app-profile"]],decls:119,vars:55,consts:[[1,"content-wrapper"],[1,"page-header"],[1,"page-title"],[1,"row","dashboardcard"],[1,"col-md-12","grid-margin","stretch-card"],[1,"card"],[1,"card-body"],[3,"formGroup"],[1,"row","mt-4"],[1,"col-md-6","form-group"],["for","exampleInputUsername1"],[1,"text-danger"],["readonly","","type","text","autocomplete","off","name","FirstName","formControlName","FirstName","placeholder","First Name",1,"form-control",3,"ngClass"],["class","invalid-feedback",4,"ngIf"],["readonly","","type","text","autocomplete","off","name","MiddleName","formControlName","MiddleName","placeholder","Middle Name",1,"form-control",3,"ngClass"],["readonly","","type","text","autocomplete","off","name","LastName","formControlName","LastName","placeholder","Last Name",1,"form-control",3,"ngClass"],["name","GenderId","formControlName","GenderId",1,"form-control",3,"ngClass"],["value","","selected","selected"],["value","1"],["value","2"],["value","3"],["name","StateId","formControlName","StateId",1,"form-control",3,"ngClass","change"],["stateddl",""],[3,"value",4,"ngFor","ngForOf"],["name","DistrictId","formControlName","DistrictId",1,"form-control",3,"ngClass","change"],["districtdll",""],["name","CityId","formControlName","CityId",1,"form-control",3,"ngClass"],["name","MrAddress","formControlName","MrAddress","rows","4","spellcheck","false","placeholder","MR Address",1,"form-control",3,"ngClass"],["readonly","","type","text","autocomplete","off","name","MrLicenseNumber","maxlength","20","formControlName","MrLicenseNumber","rows","4","spellcheck","false","placeholder","MR License Number",1,"form-control",3,"ngClass"],["readonly","","type","text","autocomplete","off","name","Mobile","maxlength","10","numbersOnly","","formControlName","Mobile","rows","4","spellcheck","false","placeholder","Mobile",1,"form-control",3,"ngClass"],["type","text","autocomplete","off","name","PinCode","maxlength","6","numbersOnly","","formControlName","PinCode","rows","4","spellcheck","false","placeholder","Pincode",1,"form-control",3,"ngClass"],["type","submit",1,"btn","btn-primary","mr-2",3,"click"],["routerLink","/doctor/doctor",1,"btn","btn-light"],[1,"invalid-feedback"],[4,"ngIf"],[3,"value"]],template:function(t,e){if(1&t){const t=n.cc();n.bc(0,"div",0),n.bc(1,"div",1),n.bc(2,"h3",2),n.Tc(3),n.qc(4,"translate"),n.ac(),n.ac(),n.bc(5,"div",3),n.bc(6,"div",4),n.bc(7,"div",5),n.bc(8,"div",6),n.bc(9,"form",7),n.bc(10,"div",8),n.bc(11,"div",9),n.bc(12,"label",10),n.Tc(13,"First Name"),n.bc(14,"span",11),n.Tc(15,"*"),n.ac(),n.ac(),n.Xb(16,"input",12),n.Rc(17,I,2,1,"div",13),n.ac(),n.bc(18,"div",9),n.bc(19,"label",10),n.Tc(20,"Middle Name"),n.bc(21,"span",11),n.Tc(22,"*"),n.ac(),n.ac(),n.Xb(23,"input",14),n.Rc(24,D,2,1,"div",13),n.ac(),n.bc(25,"div",9),n.bc(26,"label",10),n.Tc(27,"Last Name"),n.bc(28,"span",11),n.Tc(29,"*"),n.ac(),n.ac(),n.Xb(30,"input",15),n.Rc(31,M,2,1,"div",13),n.ac(),n.bc(32,"div",9),n.bc(33,"label",10),n.Tc(34,"Gender"),n.bc(35,"span",11),n.Tc(36,"*"),n.ac(),n.ac(),n.bc(37,"select",16),n.bc(38,"option",17),n.Tc(39,"Select"),n.ac(),n.bc(40,"option",18),n.Tc(41,"Male"),n.ac(),n.bc(42,"option",19),n.Tc(43,"Female"),n.ac(),n.bc(44,"option",20),n.Tc(45,"Transgender"),n.ac(),n.ac(),n.Rc(46,J,2,1,"div",13),n.ac(),n.bc(47,"div",9),n.bc(48,"label",10),n.Tc(49,"State"),n.bc(50,"span",11),n.Tc(51,"*"),n.ac(),n.ac(),n.bc(52,"select",21,22),n.mc("change",(function(){n.Ic(t);const c=n.Gc(53);return e.onStateSelected(c.value)})),n.bc(54,"option",17),n.Tc(55,"Select"),n.ac(),n.Rc(56,N,2,2,"option",23),n.ac(),n.Rc(57,R,2,1,"div",13),n.ac(),n.bc(58,"div",9),n.bc(59,"label",10),n.Tc(60,"District"),n.bc(61,"span",11),n.Tc(62,"*"),n.ac(),n.ac(),n.bc(63,"select",24,25),n.mc("change",(function(){n.Ic(t);const c=n.Gc(64);return e.onDistrictSelected(c.value)})),n.bc(65,"option",17),n.Tc(66,"Select"),n.ac(),n.Rc(67,q,2,2,"option",23),n.ac(),n.Rc(68,E,2,1,"div",13),n.ac(),n.bc(69,"div",9),n.bc(70,"label",10),n.Tc(71,"City"),n.bc(72,"span",11),n.Tc(73,"*"),n.ac(),n.ac(),n.bc(74,"select",26),n.bc(75,"option",17),n.Tc(76,"Select"),n.ac(),n.Rc(77,k,2,2,"option",23),n.ac(),n.Rc(78,O,2,1,"div",13),n.ac(),n.bc(79,"div",9),n.bc(80,"label",10),n.Tc(81,"MR Address"),n.bc(82,"span",11),n.Tc(83,"*"),n.ac(),n.ac(),n.Xb(84,"textarea",27),n.Rc(85,W,2,1,"div",13),n.ac(),n.bc(86,"div",9),n.bc(87,"label",10),n.Tc(88,"MR License Number"),n.bc(89,"span",11),n.Tc(90,"*"),n.ac(),n.ac(),n.Xb(91,"input",28),n.Rc(92,H,2,1,"div",13),n.ac(),n.bc(93,"div",9),n.bc(94,"label",10),n.Tc(95," Mobile"),n.bc(96,"span",11),n.Tc(97,"*"),n.ac(),n.ac(),n.Xb(98,"input",29),n.Rc(99,X,4,3,"div",13),n.ac(),n.bc(100,"div",9),n.bc(101,"label",10),n.Tc(102,"DOB"),n.ac(),n.Xb(103,"br"),n.bc(104,"label",10),n.Tc(105),n.qc(106,"date"),n.ac(),n.ac(),n.bc(107,"div",9),n.bc(108,"label",10),n.Tc(109,"PinCode"),n.bc(110,"span",11),n.Tc(111,"*"),n.ac(),n.ac(),n.Xb(112,"input",30),n.Rc(113,$,4,3,"div",13),n.ac(),n.ac(),n.Xb(114,"hr"),n.bc(115,"button",31),n.mc("click",(function(){return e.Save()})),n.Tc(116,"Submit"),n.ac(),n.bc(117,"button",32),n.Tc(118,"Cancel"),n.ac(),n.ac(),n.ac(),n.ac(),n.ac(),n.ac(),n.ac()}2&t&&(n.Jb(3),n.Vc(" ",n.rc(4,28,"DoctorProfile")," "),n.Jb(6),n.wc("formGroup",e.userForm),n.Jb(7),n.wc("ngClass",n.Ac(33,z,e.submitted&&e.f.FirstName.errors)),n.Jb(1),n.wc("ngIf",e.submitted&&e.f.FirstName.errors),n.Jb(6),n.wc("ngClass",n.Ac(35,z,e.submitted&&e.f.MiddleName.errors)),n.Jb(1),n.wc("ngIf",e.submitted&&e.f.MiddleName.errors),n.Jb(6),n.wc("ngClass",n.Ac(37,z,e.submitted&&e.f.LastName.errors)),n.Jb(1),n.wc("ngIf",e.submitted&&e.f.LastName.errors),n.Jb(6),n.wc("ngClass",n.Ac(39,z,e.submitted&&e.f.GenderId.errors)),n.Jb(9),n.wc("ngIf",e.submitted&&e.f.GenderId.errors),n.Jb(6),n.wc("ngClass",n.Ac(41,z,e.submitted&&e.f.StateId.errors)),n.Jb(4),n.wc("ngForOf",e.allstatelst),n.Jb(1),n.wc("ngIf",e.submitted&&e.f.StateId.errors),n.Jb(6),n.wc("ngClass",n.Ac(43,z,e.submitted&&e.f.DistrictId.errors)),n.Jb(4),n.wc("ngForOf",e.alldistrictlst),n.Jb(1),n.wc("ngIf",e.submitted&&e.f.DistrictId.errors),n.Jb(6),n.wc("ngClass",n.Ac(45,z,e.submitted&&e.f.CityId.errors)),n.Jb(3),n.wc("ngForOf",e.allcitylst),n.Jb(1),n.wc("ngIf",e.submitted&&e.f.CityId.errors),n.Jb(6),n.wc("ngClass",n.Ac(47,z,e.submitted&&e.f.MrAddress.errors)),n.Jb(1),n.wc("ngIf",e.submitted&&e.f.MrAddress.errors),n.Jb(6),n.wc("ngClass",n.Ac(49,z,e.submitted&&e.f.MrLicenseNumber.errors)),n.Jb(1),n.wc("ngIf",e.submitted&&e.f.MrLicenseNumber.errors),n.Jb(6),n.wc("ngClass",n.Ac(51,z,e.submitted&&e.f.Mobile.errors)),n.Jb(1),n.wc("ngIf",e.submitted&&e.f.Mobile.errors),n.Jb(6),n.Uc(n.sc(106,30,null==e.mrinfo?null:e.mrinfo.DOB,"dd/MM/yyyy")),n.Jb(7),n.wc("ngClass",n.Ac(53,z,e.submitted&&e.f.PinCode.errors)),n.Jb(1),n.wc("ngIf",e.submitted&&e.f.PinCode.errors))},directives:[a.y,a.p,a.h,a.c,a.o,a.f,s.l,s.n,a.v,a.s,a.x,s.m,a.j,i.c],pipes:[w.c,s.e],styles:[""]}),t})();var Q=c("n90K");let Y=(()=>{class t{constructor(t,e,c,i,s,a){this.master=t,this.st=e,this.com=c,this.ads=i,this.Notification=s,this.spinner=a,this.submitted=!1}ngOnInit(){}Save(){if(null!=this.imageSrc&&null!=this.imageSrc&&""!=this.imageSrc){var t={imagePath:this.imageSrc.split(",")[1],fileName:this.imagename,fileFlag:this.imagetype};this.spinner.show(),this.ads.updateprofileimage(t).subscribe(t=>{if(1==t.success&&1==t.status){var e=this.master.CurrentUser;e.model.profileImagePath=t.message,this.master.CurrentUser=e,this.st.add("listoken",e),location.reload(),this.Notification.showSuccess("Update successfully",""),this.spinner.hide()}else this.spinner.hide(),this.Notification.showError(t.message,"")},t=>{this.spinner.hide(),this.Notification.showError("something went wrong","")})}else this.spinner.hide(),this.Notification.showError("Please select file","")}handleFileInput(t){let e=t.target.files[0];if("image/png"==e.type||"image/jpeg"==e.type){let s=e.name,a=e.type;var c=t.dataTransfer?t.dataTransfer.files[0]:t.target.files[0],i=new FileReader;this.imagename=s,this.imagetype=a,i.onload=this._handleReaderLoaded.bind(this),i.readAsDataURL(c)}else this.Notification.showError("Upload valid file format","")}_handleReaderLoaded(t){this.imageSrc=t.target.result}}return t.\u0275fac=function(e){return new(e||t)(n.Wb(r.a),n.Wb(Q.a),n.Wb(m.a),n.Wb(p.a),n.Wb(u.a),n.Wb(f.c))},t.\u0275cmp=n.Qb({type:t,selectors:[["app-profilepic"]],decls:21,vars:0,consts:[[1,"content-wrapper"],[1,"page-header"],[1,"page-title"],[1,"row","dashboardcard"],[1,"col-md-12","grid-margin","stretch-card"],[1,"card"],[1,"card-body"],[1,"col-md-6","form-group"],[1,"input-group","col-xs-12"],["type","file","placeholder","Upload Image",1,"form-control","file-upload-info",3,"change"],[1,"input-group-append"],["type","button",1,"file-upload-browse","btn","btn-primary",3,"click"],["id","confirm_password-error","for","confirm_password",1,"error","mt-2","text-danger"],[1,"w-100","d-block","mb-1"],[1,"clearfix"]],template:function(t,e){1&t&&(n.bc(0,"div",0),n.bc(1,"div",1),n.bc(2,"h3",2),n.Tc(3," Profile Pic "),n.ac(),n.ac(),n.bc(4,"div",3),n.bc(5,"div",4),n.bc(6,"div",5),n.bc(7,"div",6),n.bc(8,"div",7),n.bc(9,"div",8),n.bc(10,"input",9),n.mc("change",(function(t){return e.handleFileInput(t)})),n.ac(),n.bc(11,"span",10),n.bc(12,"button",11),n.mc("click",(function(){return e.Save()})),n.Tc(13,"Upload"),n.ac(),n.ac(),n.ac(),n.bc(14,"label",12),n.bc(15,"small",13),n.Tc(16," 1. Format PNG,JPEG"),n.ac(),n.bc(17,"small",13),n.Tc(18," 2. Size less than 5MB"),n.ac(),n.ac(),n.Xb(19,"div",14),n.ac(),n.ac(),n.Xb(20,"hr"),n.ac(),n.ac(),n.ac(),n.ac())},styles:[""]}),t})();var Z=c("oOf3");function tt(t,e){1&t&&(n.bc(0,"td"),n.Tc(1,"Pending "),n.ac())}function et(t,e){1&t&&(n.bc(0,"td"),n.Tc(1,"Completed "),n.ac())}function ct(t,e){if(1&t&&(n.bc(0,"tr"),n.bc(1,"td",27),n.Tc(2),n.ac(),n.bc(3,"td"),n.Tc(4),n.ac(),n.bc(5,"td"),n.Tc(6),n.qc(7,"date"),n.ac(),n.bc(8,"td"),n.Tc(9),n.qc(10,"date"),n.qc(11,"date"),n.ac(),n.bc(12,"td"),n.Tc(13),n.ac(),n.Rc(14,tt,2,0,"td",28),n.Rc(15,et,2,0,"td",28),n.ac()),2&t){const t=e.$implicit,c=e.even,i=e.index;n.Ob("table-active",e.odd)("table-active1",c),n.Jb(2),n.Vc(" ",i+1," "),n.Jb(2),n.Uc(t.DoctorName),n.Jb(2),n.Vc("",n.sc(7,12,t.AppointmentDate,"dd-MM-yyyy")," "),n.Jb(3),n.Wc("",n.tc(10,15,1e3*t.SlotFromTime.totalMinutes*60,"hh:mm a","UTC")," - ",n.tc(11,19,1e3*t.SlotEndTime.totalMinutes*60,"hh:mm a","UTC")," "),n.Jb(4),n.Vc("",t.Subject," "),n.Jb(1),n.wc("ngIf",1==t.Status),n.Jb(1),n.wc("ngIf",5==t.Status)}}function it(t,e){1&t&&(n.bc(0,"td"),n.Tc(1,"Pending "),n.ac())}function st(t,e){1&t&&(n.bc(0,"td"),n.Tc(1,"Completed "),n.ac())}function at(t,e){if(1&t&&(n.bc(0,"tr"),n.bc(1,"td",27),n.Tc(2),n.ac(),n.bc(3,"td"),n.Tc(4),n.ac(),n.bc(5,"td"),n.Tc(6),n.qc(7,"date"),n.ac(),n.bc(8,"td"),n.Tc(9),n.qc(10,"date"),n.qc(11,"date"),n.ac(),n.bc(12,"td"),n.Tc(13),n.ac(),n.Rc(14,it,2,0,"td",28),n.Rc(15,st,2,0,"td",28),n.ac()),2&t){const t=e.$implicit,c=e.even,i=e.index;n.Ob("table-active",e.odd)("table-active1",c),n.Jb(2),n.Vc(" ",i+1," "),n.Jb(2),n.Uc(t.DoctorName),n.Jb(2),n.Vc("",n.sc(7,12,t.AppointmentDate,"dd-MM-yyyy")," "),n.Jb(3),n.Wc("",n.tc(10,15,1e3*t.SlotFromTime.totalMinutes*60,"hh:mm a","UTC")," - ",n.tc(11,19,1e3*t.SlotEndTime.totalMinutes*60,"hh:mm a","UTC")," "),n.Jb(4),n.Vc("",t.Subject," "),n.Jb(1),n.wc("ngIf",1==t.Status),n.Jb(1),n.wc("ngIf",5==t.Status)}}let nt=(()=>{class t{constructor(t,e,c,i,s){this.nav=t,this.spinner=e,this._srv=c,this.dialog=i,this.master=s,this.config={searchValue:"",currentPage:1,skip:0,itemsPerPage:0,totalItems:0,status:0,doctorId:0}}ngOnInit(){this.config.itemsPerPage=this.master.TablepageSize[0],this.Refresh()}pageChanged(t){this.config.currentPage=t,this.Refresh()}Refresh(){this.spinner.show(),this._srv.gettodayappointments(this.config).subscribe(t=>{this.allappointmentlst=t.lstModel,null!=this.allappointmentlst?(this.spinner.hide(),this.config.totalItems=t.lstModel[0].TotalItems):(this.spinner.hide(),this.config.totalItems=0)},t=>{this.spinner.hide()})}pastconsultation(){this.spinner.show(),this._srv.getpastconsultations(this.config).subscribe(t=>{this.allpastappointmentlst=t.lstModel,null!=this.allpastappointmentlst?(this.spinner.hide(),this.config.totalItems=t.lstModel[0].TotalItems):(this.spinner.hide(),this.config.totalItems=0)},t=>{this.spinner.hide()})}}return t.\u0275fac=function(e){return new(e||t)(n.Wb(i.b),n.Wb(f.c),n.Wb(p.a),n.Wb(g.b),n.Wb(r.a))},t.\u0275cmp=n.Qb({type:t,selectors:[["app-appointmentlist"]],decls:78,vars:8,consts:[[1,"content-wrapper"],[1,"row","dashboardcard"],[1,"col-md-12","grid-margin","stretch-card"],[1,"card"],[1,"card-body"],[1,"card","consulttab"],["role","tablist",1,"nav","nav-tabs"],[1,"nav-item"],["id","home-tab","data-toggle","tab","href","#home-1","role","tab","aria-controls","home","aria-selected","false",1,"nav-link","active",3,"click"],["id","profile-tab","data-toggle","tab","href","#profile-1","role","tab","aria-controls","profile","aria-selected","true",1,"nav-link",3,"click"],[1,"tab-content"],["id","home-1","role","tabpanel","aria-labelledby","home-tab",1,"tab-pane","fade","active","show"],[1,"row"],[1,"col-12"],[1,"table-responsive"],[1,"table","table-striped"],[1,"thead-dark"],[3,"table-active","table-active1",4,"ngFor","ngForOf"],[1,"card-footer"],[1,"row","d-flex","align-items-center"],[1,"col-sm-12","col-md-5","mb-1"],["id","order-listing_info","role","status","aria-live","polite",1,"dataTables_info"],[1,"col-sm-12","col-md-7"],[1,"pagination","float-right","pagination-success","mb-0"],[1,"page-item"],[2,"text-align","center",3,"pageChange"],["id","profile-1","role","tabpanel","aria-labelledby","profile-tab",1,"tab-pane","fade"],[1,"py-1"],[4,"ngIf"]],template:function(t,e){1&t&&(n.bc(0,"div",0),n.bc(1,"div",1),n.bc(2,"div",2),n.bc(3,"div",3),n.bc(4,"div",4),n.bc(5,"div",2),n.bc(6,"div",5),n.bc(7,"div",4),n.bc(8,"ul",6),n.bc(9,"li",7),n.bc(10,"a",8),n.mc("click",(function(){return e.Refresh()})),n.bc(11,"b"),n.Tc(12,"Today Consultations"),n.ac(),n.ac(),n.ac(),n.bc(13,"li",7),n.bc(14,"a",9),n.mc("click",(function(){return e.pastconsultation()})),n.bc(15,"b"),n.Tc(16,"Past Consultations"),n.ac(),n.ac(),n.ac(),n.ac(),n.bc(17,"div",10),n.bc(18,"div",11),n.bc(19,"div",12),n.bc(20,"div",13),n.bc(21,"div",14),n.bc(22,"table",15),n.bc(23,"thead",16),n.bc(24,"tr"),n.bc(25,"th"),n.Tc(26," Sr. no "),n.ac(),n.bc(27,"th"),n.Tc(28," Doctor "),n.ac(),n.bc(29,"th"),n.Tc(30," Appointment Date "),n.ac(),n.bc(31,"th"),n.Tc(32," Slot "),n.ac(),n.bc(33,"th"),n.Tc(34," Subject "),n.ac(),n.bc(35,"th"),n.Tc(36," Status "),n.ac(),n.ac(),n.ac(),n.bc(37,"tbody"),n.Rc(38,ct,16,23,"tr",17),n.qc(39,"paginate"),n.ac(),n.ac(),n.ac(),n.ac(),n.ac(),n.bc(40,"div",18),n.bc(41,"div",19),n.bc(42,"div",20),n.Xb(43,"div",21),n.ac(),n.bc(44,"div",22),n.bc(45,"ul",23),n.bc(46,"li",24),n.bc(47,"pagination-controls",25),n.mc("pageChange",(function(t){return e.pageChanged(t)})),n.ac(),n.ac(),n.ac(),n.ac(),n.ac(),n.ac(),n.ac(),n.bc(48,"div",26),n.bc(49,"div",12),n.bc(50,"div",13),n.bc(51,"div",14),n.bc(52,"table",15),n.bc(53,"thead",16),n.bc(54,"tr"),n.bc(55,"th"),n.Tc(56," Sr. no "),n.ac(),n.bc(57,"th"),n.Tc(58," Doctor "),n.ac(),n.bc(59,"th"),n.Tc(60," Appointment Date "),n.ac(),n.bc(61,"th"),n.Tc(62," Slot "),n.ac(),n.bc(63,"th"),n.Tc(64," Subject "),n.ac(),n.bc(65,"th"),n.Tc(66," Status "),n.ac(),n.ac(),n.ac(),n.bc(67,"tbody"),n.Rc(68,at,16,23,"tr",17),n.qc(69,"paginate"),n.ac(),n.ac(),n.ac(),n.ac(),n.ac(),n.bc(70,"div",18),n.bc(71,"div",19),n.bc(72,"div",20),n.Xb(73,"div",21),n.ac(),n.bc(74,"div",22),n.bc(75,"ul",23),n.bc(76,"li",24),n.bc(77,"pagination-controls",25),n.mc("pageChange",(function(t){return e.pageChanged(t)})),n.ac(),n.ac(),n.ac(),n.ac(),n.ac(),n.ac(),n.ac(),n.ac(),n.ac(),n.ac(),n.ac(),n.ac(),n.ac(),n.ac(),n.ac(),n.ac()),2&t&&(n.Jb(38),n.wc("ngForOf",n.sc(39,2,e.allappointmentlst,e.config)),n.Jb(30),n.wc("ngForOf",n.sc(69,5,e.allpastappointmentlst,e.config)))},directives:[s.m,Z.c,s.n],pipes:[Z.b,s.e],styles:[""]}),t})();var rt=c("l5mm"),ot=c("PdH4"),lt=c.n(ot);function dt(t,e){if(1&t&&(n.bc(0,"li",31),n.Xb(1,"div",28),n.bc(2,"div",29),n.bc(3,"div",30),n.Tc(4),n.ac(),n.ac(),n.ac()),2&t){const t=e.$implicit;n.wc("ngClass",1==t.send?"message right appeared":"message left appeared"),n.Jb(4),n.Uc(t.messagetext)}}let bt=(()=>{class t{constructor(t,e,c,i,s,a){this.document=t,this.master=e,this.connectionService=c,this.globalx=i,this.spinner=s,this.nav=a,this.Error="",this.Patientmessage="",this.chatmessagelist=[],this.counterIntervallTimer=Object(rt.a)(1e3)}ngOnInit(){this.globalx.MessageRecievedByPatient(this.MessageReceived.bind(this)),this.elem=document.getElementById("divcontainer"),this.connectionService.GetVCToken(this.master.doctorConnectionId).subscribe(t=>{null!=t.model.room?(this.CallJitsi(t.model),this.countersubscription=this.counterIntervallTimer.subscribe(()=>this.myTimerstart())):lt.a.fire({title:"Call Ended!",text:"Wait for another Call.",type:"warning",timer:3e3,showCancelButton:!1,showConfirmButton:!1,allowOutsideClick:!1,allowEscapeKey:!1,allowEnterKey:!1}).then(t=>{this.nav.navigateByUrl("/mr/dashboard")})},t=>{})}myTimerstart(){""!=document.getElementById("divcontainer").innerHTML&&(this.spinner.hide(),this.countersubscription.unsubscribe())}CallJitsi(t){if(""==document.getElementById("divcontainer").innerHTML){var e={roomName:t.room,parentNode:document.getElementById("divcontainer"),jwt:t.token,interfaceConfigOverwrite:{SHOW_JITSI_WATERMARK:!1,SHOW_WATERMARK_FOR_GUESTS:!1,filmStripOnly:!1,TOOLBAR_BUTTONS:["hangup","microphone","camera","fullscreen"]},userInfo:{displayName:"MR"}};return new JitsiMeetExternalAPI("connect.ecubix.com",e).on("readyToClose",()=>{document.getElementById("divcontainer").innerHTML=""}),!1}alert("Please wait...")}checkmessage(){null==this.Patientmessage&&null==this.Patientmessage&&""==this.Patientmessage||(this.SendMessage(this.Patientmessage),this.Patientmessage="")}MessageReceived(t){this.chatmessagelist.push({send:0,messagetext:t.message})}SendMessage(t){this.chatmessagelist.push({send:1,messagetext:t}),this.connectionService.SendMessageByPatient(this.master.patientConnectionId,this.master.doctorConnectionId,t).subscribe(t=>{},t=>{})}openFullscreen(){return this.elem.requestFullscreen?this.elem.requestFullscreen():this.elem.mozRequestFullScreen?this.elem.mozRequestFullScreen():this.elem.webkitRequestFullscreen?this.elem.webkitRequestFullscreen():this.elem.msRequestFullscreen&&this.elem.msRequestFullscreen(),!1}closeFullscreen(){return this.document.exitFullscreen?this.document.exitFullscreen():this.document.mozCancelFullScreen?this.document.mozCancelFullScreen():this.document.webkitExitFullscreen?this.document.webkitExitFullscreen():this.document.msExitFullscreen&&this.document.msExitFullscreen(),!1}}return t.\u0275fac=function(e){return new(e||t)(n.Wb(s.d),n.Wb(r.a),n.Wb(o.a),n.Wb(l.a),n.Wb(f.c),n.Wb(i.b))},t.\u0275cmp=n.Qb({type:t,selectors:[["app-mrconsultationroom"]],decls:35,vars:2,consts:[[1,"content-wrapper"],[1,"page-header"],[1,"page-title"],[1,"row","dashboardcard"],[1,"col-md-12","grid-margin","order-sm-12"],[1,"card"],[1,"card-body"],[1,"col-md-8","mb-2","drvideo"],["id","divcontainer",1,"drvideobox","text-center",2,"width","100%","height","350px"],[1,"col-md-4"],[1,"chat_window","shadow-sm"],[1,"top_menu","d-none"],[1,"buttons"],[1,"button","close"],[1,"button","minimize"],[1,"button","maximize"],[1,"title"],[1,"messages","yscroll"],[3,"ngClass",4,"ngFor","ngForOf"],[1,"bottom_wrapper","clearfix"],[1,"message_input_wrapper"],["placeholder","Type your message here...",1,"message_input",3,"ngModel","keydown.enter","ngModelChange"],[1,"send_message",3,"click"],[1,"icon"],[1,"mdi","mdi-send"],[1,"text","d-none"],[1,"message_template"],[1,"message"],[1,"avatar"],[1,"text_wrapper"],[1,"text"],[3,"ngClass"]],template:function(t,e){1&t&&(n.bc(0,"div",0),n.bc(1,"div",1),n.bc(2,"h3",2),n.Tc(3," Doctor Appointment "),n.ac(),n.ac(),n.bc(4,"div",3),n.bc(5,"div",4),n.bc(6,"div",5),n.bc(7,"div",6),n.bc(8,"div",3),n.bc(9,"div",7),n.Xb(10,"div",8),n.ac(),n.bc(11,"div",9),n.bc(12,"div",10),n.bc(13,"div",11),n.bc(14,"div",12),n.Xb(15,"div",13),n.Xb(16,"div",14),n.Xb(17,"div",15),n.ac(),n.bc(18,"div",16),n.Tc(19,"Chat"),n.ac(),n.ac(),n.bc(20,"ul",17),n.Rc(21,dt,5,2,"li",18),n.ac(),n.bc(22,"div",19),n.bc(23,"div",20),n.bc(24,"input",21),n.mc("keydown.enter",(function(){return e.checkmessage()}))("ngModelChange",(function(t){return e.Patientmessage=t})),n.ac(),n.ac(),n.bc(25,"div",22),n.mc("click",(function(){return e.checkmessage()})),n.bc(26,"div",23),n.Xb(27,"i",24),n.ac(),n.bc(28,"div",25),n.Tc(29,"Send"),n.ac(),n.ac(),n.ac(),n.ac(),n.bc(30,"div",26),n.bc(31,"li",27),n.Xb(32,"div",28),n.bc(33,"div",29),n.Xb(34,"div",30),n.ac(),n.ac(),n.ac(),n.ac(),n.ac(),n.ac(),n.ac(),n.ac(),n.ac(),n.ac()),2&t&&(n.Jb(21),n.wc("ngForOf",e.chatmessagelist),n.Jb(3),n.wc("ngModel",e.Patientmessage))},directives:[s.m,a.c,a.o,a.r,s.l],styles:[""]}),t})();var ht=c("m1XX"),mt=c("lGQG");function pt(t,e){if(1&t&&(n.bc(0,"option",47),n.Tc(1),n.ac()),2&t){const t=e.$implicit;n.xc("value",t.HospitalId),n.Jb(1),n.Vc(" ",t.HospitalName," ")}}function ut(t,e){if(1&t&&(n.bc(0,"option",47),n.Tc(1),n.ac()),2&t){const t=e.$implicit;n.xc("value",t.BranchId),n.Jb(1),n.Vc(" ",t.BranchName," ")}}function ft(t,e){if(1&t&&(n.bc(0,"option",47),n.Tc(1),n.ac()),2&t){const t=e.$implicit;n.xc("value",t.DepartmentId),n.Jb(1),n.Vc(" ",t.DepartmentName," ")}}function gt(t,e){if(1&t&&(n.bc(0,"option",47),n.Tc(1),n.ac()),2&t){const t=e.$implicit;n.xc("value",t.DoctorId),n.Jb(1),n.Xc(" ",t.FirstName," ",t.MiddleName," ",t.LastName," ")}}function vt(t,e){if(1&t){const t=n.cc();n.bc(0,"a",48),n.mc("click",(function(){n.Ic(t);const c=e.$implicit;return n.pc().slotselected(c)})),n.Tc(1),n.qc(2,"date"),n.qc(3,"date"),n.ac()}if(2&t){const t=e.$implicit;n.wc("ngClass",0==t.Status?"btn-primary":"btn-light"),n.Jb(1),n.Wc("",n.tc(2,3,1e3*t.SlotFromTime.totalMinutes*60,"hh:mm a","UTC"),"- ",n.tc(3,7,1e3*t.SlotEndTime.totalMinutes*60,"hh:mm a","UTC"),"")}}function wt(t,e){1&t&&(n.bc(0,"a",49),n.Tc(1,"No slots avaiable"),n.ac())}let yt=(()=>{class t{constructor(t,e,c,i,s,n,r,o,l,d){this.master=t,this.commonsv=e,this.ads=c,this.st=i,this.nav=s,this.Notification=n,this.srv=r,this.notifyService=o,this.spinner=l,this.datepipe=d,this.Error="",this.divstep1=!0,this.divstep2=!1,this.divstep3=!1,this.divstep4=!1,this.divstep5=!1,this.submitted=!1,this.submitted1=!1,this.submitted3=!1,this.slotdivshow=!1,this.count=30,this.btnshow=!0,this.todayDate=new Date(Date.now()),this.selectedDate=new Date(Date.now()),this.cssclassdisplay1=1,this.cssclassdisplay2=0,this.cssclassdisplay3=0,this.docdata=[],this.patientregreadonly=!1,this.HospitalId="0",this.BranchId="0",this.DepartmentId="0",this.DoctorId="0",this.Consultationstype="",this.paymenttype="",this.counterIntervallTimer=Object(rt.a)(1e3),this.userForm=new a.g({userName:new a.d("",[a.w.required,a.w.pattern("^[0-9]*$")])}),this.userForm1=new a.g({userName:new a.d("",a.w.required),otp:new a.d("",[a.w.required,a.w.pattern("^[0-9]*$")])}),this.pateintForm=new a.g({mrTeleConsultationId:new a.d("0",a.w.required),mrId:new a.d("",a.w.required),mrReferenceNumber:new a.d("",a.w.required),consultationReferenceNumber:new a.d("",a.w.required),hospitalId:new a.d("",a.w.required),branchId:new a.d("",a.w.required),departmentId:new a.d("",a.w.required),doctorId:new a.d("",a.w.required),doctorSlotTimeId:new a.d("",a.w.required),slotFromTime:new a.d("",a.w.required),slotEndTime:new a.d("",a.w.required),appointmentDate:new a.d("",a.w.required),mobile:new a.d("",a.w.required),subject:new a.d("",a.w.required),status:new a.d("0",a.w.required),type:new a.d("0",a.w.required),consultationsStatus:new a.d("0",a.w.required),response:new a.d("",a.w.required)})}ngOnInit(){this.st.add("Utype",3),this.binddaycalender(0),this.commonsv.getstates().subscribe(t=>{this.allstatelst=t.lstModel}),this.srv.getactivehospitals().subscribe(t=>{this.allhospitallst=t.lstModel})}get f(){return this.userForm.controls}get g(){return this.userForm1.controls}get h(){return this.pateintForm.controls}getToday(){return(new Date).toISOString().split("T")[0]}DoctorStepcancel(){this.divstep1=!1,this.divstep2=!0,this.divstep3=!1,this.divstep4=!1,this.divstep5=!1}DoctorStep(){this.submitted3=!0,this.pateintForm.valid&&(this.divstep1=!1,this.divstep2=!1,this.divstep3=!1,this.divstep4=!0,this.divstep5=!1,this.binddaycalender(0),this.srv.getactivehospitals().subscribe(t=>{this.allhospitallst=t.lstModel}))}onStateSelected(t){this.alldistrictlst=[],this.pateintForm.controls.districtId.setValue(""),this.allcitylst=[],this.pateintForm.controls.cityId.setValue(""),""!=t&&null!=t?this.commonsv.getdistricts(t).subscribe(t=>{this.alldistrictlst=t.lstModel}):this.alldistrictlst=[]}onDistrictSelected(t){this.allcitylst=[],this.pateintForm.controls.cityId.setValue(""),""!=t&&null!=t?this.commonsv.getcity(t).subscribe(t=>{this.allcitylst=t.lstModel}):this.allcitylst=[]}onHospitalSelected(t){this.allbranchlst=[],this.alldepartmentlst=[],this.alldoctorlst=[],this.BranchId="0",this.DepartmentId="0",this.slotdivshow=!1,this.DoctorId="0",""!=t&&null!=t?this.srv.getactivebranchbyhospital(t).subscribe(t=>{this.allbranchlst=t.lstModel}):this.allbranchlst=[]}onBranchSelected(t){this.alldepartmentlst=[],this.alldoctorlst=[],this.DepartmentId="0",this.slotdivshow=!1,this.DoctorId="0",""!=t&&null!=t?this.srv.getactivedepartmentbybranch(t).subscribe(t=>{this.alldepartmentlst=t.lstModel}):this.alldepartmentlst=[]}onDepartmentSelected(t){this.alldoctorlst=[],this.DoctorId="0",this.slotdivshow=!1,""!=t&&null!=t?this.srv.getactivedoctorbydepartment(t).subscribe(t=>{this.alldoctorlst=t.lstModel}):this.alldoctorlst=[]}onDoctorSelected(t){if(this.allslotlst=[],""!=t&&null!=t){this.slotdivshow=!0;var e={doctorId:parseInt(t),slotDate:new Date(Date.now())};this.ads.GetMRSlots(e).subscribe(t=>{this.allslotlst=t.lstModel})}else this.slotdivshow=!1,this.allslotlst=[]}f_selectdate(t,e){if(1==e?(this.cssclassdisplay1=1,this.cssclassdisplay2=0,this.cssclassdisplay3=0):2==e?(this.cssclassdisplay1=0,this.cssclassdisplay2=1,this.cssclassdisplay3=0):3==e&&(this.cssclassdisplay1=0,this.cssclassdisplay2=0,this.cssclassdisplay3=1),"0"!=this.DoctorId){var c={doctorId:parseInt(this.DoctorId),slotDate:new Date(t)};this.ads.GetMRSlots(c).subscribe(t=>{this.allslotlst=t.lstModel})}else this.notifyService.showError("Please select doctor","")}binddaycalender(t){if(0==t)this.selectedDate=new Date,this.display1date=this.selectedDate,this.display2date=new Date,this.display2date.setDate(this.selectedDate.getDate()+1),this.display3date=new Date,this.display3date.setDate(this.selectedDate.getDate()+2);else if(1==t)if(this.datepipe.transform(this.display1date,"dd-MM-yyyy")==this.datepipe.transform(new Date,"dd-MM-yyyy"));else{if(this.display1date=new Date(this.selectedDate),this.display1date.setDate(this.selectedDate.getDate()-2),this.selectedDate=new Date(this.display1date),this.display2date=new Date(this.selectedDate),this.display2date.setDate(this.selectedDate.getDate()+1),this.display3date=new Date(this.selectedDate),this.display3date.setDate(this.selectedDate.getDate()+2),"0"!=this.DoctorId){var e={doctorId:parseInt(this.DoctorId),slotDate:new Date(this.display1date)};this.ads.GetMRSlots(e).subscribe(t=>{this.allslotlst=t.lstModel})}else this.notifyService.showError("Please select doctor","");this.cssclassdisplay1=1,this.cssclassdisplay2=0,this.cssclassdisplay3=0}else 2==t&&(this.selectedDate=new Date(this.display3date),this.display1date=this.selectedDate,this.display2date=new Date(this.selectedDate),this.display2date.setDate(this.display2date.getDate()+1),this.display3date=new Date(this.selectedDate),this.display3date.setDate(this.display3date.getDate()+2),"0"!=this.DoctorId?(e={doctorId:parseInt(this.DoctorId),slotDate:new Date(this.display1date)},this.ads.GetMRSlots(e).subscribe(t=>{this.allslotlst=t.lstModel})):this.notifyService.showError("Please select doctor",""),this.cssclassdisplay1=1,this.cssclassdisplay2=0,this.cssclassdisplay3=0)}paymentStep(){return null==this.HospitalId||null==this.HospitalId||"0"==this.HospitalId?(this.Notification.showError("Please select Hospital",""),this.spinner.hide(),!1):null==this.BranchId||null==this.BranchId||"0"==this.BranchId?(this.Notification.showError("Please select Branch",""),this.spinner.hide(),!1):null==this.DepartmentId||null==this.DepartmentId||"0"==this.DepartmentId?(this.Notification.showError("Please select Department",""),this.spinner.hide(),!1):null==this.DoctorId||null==this.DoctorId||"0"==this.DoctorId?(this.Notification.showError("Please select Doctor",""),this.spinner.hide(),!1):null==this.Subject||null==this.Subject||""==this.Subject?(this.Notification.showError("Please Fill Subject",""),this.spinner.hide(),!1):null==this.appointmentDate||null==this.appointmentDate||""==this.appointmentDate?(this.Notification.showError("Please select Slot",""),this.spinner.hide(),!1):(this.divstep1=!1,this.divstep2=!0,this.hostpitalinfo=this.allhospitallst.filter(t=>t.HospitalId==this.HospitalId)[0],this.branchinfo=this.allbranchlst.filter(t=>t.BranchId==this.BranchId)[0],this.departmentinfo=this.alldepartmentlst.filter(t=>t.DepartmentId==this.DepartmentId)[0],this.doctorname=this.alldoctorlst.filter(t=>t.DoctorId==this.DoctorId)[0],this.slotdisplay=this.tConverttime(this.slotFromTime)+" - "+this.tConverttime(this.slotEndTime),void(this.appointmentdisplay=this.appointmentDate))}tConverttime(t){return(t=t.toString().match(/^([01]\d|2[0-3])(:)([0-5]\d)(:[0-5]\d)?$/)||[t]).length>1&&((t=t.slice(1))[5]=+t[0]<12?"AM":"PM",t[0]=+t[0]%12||12),t.join("")}paymentcancel(){this.divstep1=!0,this.divstep2=!1}payment(){if(null==this.HospitalId||null==this.HospitalId||"0"==this.HospitalId)return this.Notification.showError("Please select Hospital",""),this.spinner.hide(),!1;if(null==this.BranchId||null==this.BranchId||"0"==this.BranchId)return this.Notification.showError("Please select Branch",""),this.spinner.hide(),!1;if(null==this.DepartmentId||null==this.DepartmentId||"0"==this.DepartmentId)return this.Notification.showError("Please select Department",""),this.spinner.hide(),!1;if(null==this.DoctorId||null==this.DoctorId||"0"==this.DoctorId)return this.Notification.showError("Please select Doctor",""),this.spinner.hide(),!1;if(null==this.appointmentDate||null==this.appointmentDate||""==this.appointmentDate)return this.Notification.showError("Please select Slot",""),this.spinner.hide(),!1;var t=JSON.parse(localStorage.getItem("listoken")),e={mrTeleConsultationId:0,mrId:t.model.mrId,mrReferenceNumber:"",consultationReferenceNumber:"",hospitalId:parseInt(this.HospitalId),branchId:parseInt(this.BranchId),departmentId:parseInt(this.DepartmentId),doctorId:parseInt(this.DoctorId),doctorSlotTimeId:parseInt(this.doctorSlotTimeId),slotFromTime:this.slotFromTime,slotEndTime:this.slotEndTime,appointmentDate:this.appointmentDate,mobile:t.model.mobile,subject:this.Subject,status:0,type:0,consultationsStatus:0,response:""};this.spinner.show(),this.ads.InsertMRTeleConsultationReg(e).subscribe(t=>{1==t.success&&1==t.status?(this.spinner.hide(),lt.a.fire({title:"Appointment Book!",text:t.message,type:"success",showCancelButton:!1,allowOutsideClick:!1,allowEscapeKey:!1,allowEnterKey:!1}).then(t=>{this.nav.navigateByUrl("/mr/appointmentlist")})):(this.Notification.showError(t.message,""),this.spinner.hide())},t=>{this.Notification.showError("something went wrong",""),this.spinner.hide()})}typechange(t){this.Consultationstype=t}f_paymenttype(t){this.paymenttype=t}slotselected(t){for(let e=0;e<this.allslotlst.length;e++)this.allslotlst[e].Status=1;this.doctorSlotTimeId=t.DoctorSlotTimeId,t.Status=0,this.slotFromTime=this.conunttime(t.SlotFromTime.totalSeconds),this.slotEndTime=this.conunttime(t.SlotEndTime.totalSeconds),this.appointmentDate=t.SlotDate}conunttime(t){const e=h.duration(t,"seconds");return h.utc(e.asMilliseconds()).format("HH:mm")}}return t.\u0275fac=function(e){return new(e||t)(n.Wb(r.a),n.Wb(m.a),n.Wb(p.a),n.Wb(Q.a),n.Wb(i.b),n.Wb(u.a),n.Wb(mt.a),n.Wb(u.a),n.Wb(f.c),n.Wb(s.e))},t.\u0275cmp=n.Qb({type:t,selectors:[["app-bookslot"]],decls:169,vars:51,consts:[[1,"container-scroller"],[1,"container-fluid","page-body-wrapper",3,"hidden"],[1,"main-panel","w-100"],[1,"content-wrapper"],[1,"page-header","bg-primary",2,"margin-top","100px"],[1,"page-title","text-center","text-white","py-3","w-100","radius-4"],[1,"row","dashboardcard"],[1,"col-md-12","grid-margin","stretch-card"],[1,"card"],[1,"card-header","header-sm"],[1,"card-title","my-1"],[1,"card-body"],[1,"row"],[1,"col-md-6","form-group"],["for","exampleInputUsername1"],[1,"text-danger"],["name","HospitalId",1,"form-control",3,"ngModel","ngModelChange","change"],["hosppitalddl",""],["value","0","selected","selected"],[3,"value",4,"ngFor","ngForOf"],["name","BranchId",1,"form-control",3,"ngModel","ngModelChange","change"],["Branchddl",""],["name","DepartmentId",1,"form-control",3,"ngModel","ngModelChange","change"],["Departmentddl",""],["name","DoctorId",1,"form-control",3,"ngModel","ngModelChange","change"],["Doctorddl",""],["type","text","autocomplete","off","name","Subject","maxlength","500","placeholder","Subject","Ignorespecialchar","",1,"form-control",3,"ngModel","ngModelChange"],[1,"row","dashboardcard",3,"hidden"],[1,"col-md-6","m-auto"],[1,"col-md-12","text-center"],[1,"card-title"],[1,"col-md-12","text-center","my-4"],[1,"meeting-day"],[1,"left-arrow"],[3,"click"],[1,"mdi","mdi-arrow-left"],["Class","btn",3,"ngClass","click"],[1,"slot-date"],[1,"right-arrow"],[1,"mdi","mdi-arrow-right"],[1,"col-md-12"],["class","btn w-100 mb-3",3,"ngClass","click",4,"ngFor","ngForOf"],["class","btn btn-primary w-100 mb-12",4,"ngIf"],[1,"card-footer","text-center"],["type","submit",1,"btn","btn-primary","btn-fw","w-m-100",3,"click"],[1,"col-md-4","form-group"],[1,"btn","btn-light","btn-fw","w-m-100",3,"click"],[3,"value"],[1,"btn","w-100","mb-3",3,"ngClass","click"],[1,"btn","btn-primary","w-100","mb-12"]],template:function(t,e){if(1&t){const t=n.cc();n.bc(0,"div",0),n.bc(1,"div",1),n.bc(2,"div",2),n.bc(3,"div",3),n.bc(4,"div",4),n.bc(5,"h3",5),n.Tc(6,"Book Slot "),n.ac(),n.ac(),n.bc(7,"div",6),n.bc(8,"div",7),n.bc(9,"div",8),n.bc(10,"div",9),n.bc(11,"h2",10),n.Tc(12,"Doctor Details"),n.ac(),n.ac(),n.bc(13,"div",11),n.bc(14,"div",12),n.bc(15,"div",13),n.bc(16,"label",14),n.Tc(17,"Hospital"),n.bc(18,"span",15),n.Tc(19,"*"),n.ac(),n.ac(),n.bc(20,"select",16,17),n.mc("ngModelChange",(function(t){return e.HospitalId=t}))("change",(function(){n.Ic(t);const c=n.Gc(21);return e.onHospitalSelected(c.value)})),n.bc(22,"option",18),n.Tc(23,"Select"),n.ac(),n.Rc(24,pt,2,2,"option",19),n.ac(),n.ac(),n.bc(25,"div",13),n.bc(26,"label",14),n.Tc(27,"Branch"),n.bc(28,"span",15),n.Tc(29,"*"),n.ac(),n.ac(),n.bc(30,"select",20,21),n.mc("ngModelChange",(function(t){return e.BranchId=t}))("change",(function(){n.Ic(t);const c=n.Gc(31);return e.onBranchSelected(c.value)})),n.bc(32,"option",18),n.Tc(33,"Select"),n.ac(),n.Rc(34,ut,2,2,"option",19),n.ac(),n.ac(),n.bc(35,"div",13),n.bc(36,"label",14),n.Tc(37,"Department"),n.bc(38,"span",15),n.Tc(39,"*"),n.ac(),n.ac(),n.bc(40,"select",22,23),n.mc("ngModelChange",(function(t){return e.DepartmentId=t}))("change",(function(){n.Ic(t);const c=n.Gc(41);return e.onDepartmentSelected(c.value)})),n.bc(42,"option",18),n.Tc(43,"Select"),n.ac(),n.Rc(44,ft,2,2,"option",19),n.ac(),n.ac(),n.bc(45,"div",13),n.bc(46,"label",14),n.Tc(47,"Doctor"),n.bc(48,"span",15),n.Tc(49,"*"),n.ac(),n.ac(),n.bc(50,"select",24,25),n.mc("ngModelChange",(function(t){return e.DoctorId=t}))("change",(function(){n.Ic(t);const c=n.Gc(51);return e.onDoctorSelected(c.value)})),n.bc(52,"option",18),n.Tc(53,"Select"),n.ac(),n.Rc(54,gt,2,4,"option",19),n.ac(),n.ac(),n.bc(55,"div",13),n.bc(56,"label",14),n.Tc(57,"Subject"),n.bc(58,"span",15),n.Tc(59,"*"),n.ac(),n.ac(),n.bc(60,"input",26),n.mc("ngModelChange",(function(t){return e.Subject=t})),n.ac(),n.ac(),n.ac(),n.ac(),n.ac(),n.ac(),n.ac(),n.bc(61,"div",27),n.bc(62,"div",7),n.bc(63,"div",8),n.bc(64,"div",9),n.bc(65,"h2",10),n.Tc(66,"Select Date & Time"),n.ac(),n.ac(),n.bc(67,"div",11),n.bc(68,"div",12),n.bc(69,"div",28),n.bc(70,"div",12),n.bc(71,"div",29),n.bc(72,"h4",30),n.Tc(73," When would you like to select a doctor."),n.ac(),n.ac(),n.bc(74,"div",31),n.bc(75,"div",32),n.bc(76,"ul"),n.bc(77,"li",33),n.bc(78,"a",34),n.mc("click",(function(){return e.binddaycalender(1)})),n.Xb(79,"i",35),n.ac(),n.ac(),n.bc(80,"li"),n.bc(81,"a",36),n.mc("click",(function(){return e.f_selectdate(e.display1date,1)})),n.bc(82,"span"),n.Tc(83),n.qc(84,"date"),n.ac(),n.bc(85,"span",37),n.Tc(86),n.qc(87,"date"),n.ac(),n.ac(),n.ac(),n.bc(88,"li"),n.bc(89,"a",36),n.mc("click",(function(){return e.f_selectdate(e.display2date,2)})),n.bc(90,"span"),n.Tc(91),n.qc(92,"date"),n.ac(),n.bc(93,"span",37),n.Tc(94),n.qc(95,"date"),n.ac(),n.ac(),n.ac(),n.bc(96,"li"),n.bc(97,"a",36),n.mc("click",(function(){return e.f_selectdate(e.display3date,3)})),n.bc(98,"span"),n.Tc(99),n.qc(100,"date"),n.ac(),n.bc(101,"span",37),n.Tc(102),n.qc(103,"date"),n.ac(),n.ac(),n.ac(),n.bc(104,"li",38),n.bc(105,"a",34),n.mc("click",(function(){return e.binddaycalender(2)})),n.Xb(106,"i",39),n.ac(),n.ac(),n.ac(),n.ac(),n.ac(),n.bc(107,"div",40),n.Rc(108,vt,4,11,"a",41),n.Rc(109,wt,2,0,"a",42),n.ac(),n.ac(),n.ac(),n.ac(),n.ac(),n.bc(110,"div",43),n.bc(111,"button",44),n.mc("click",(function(){return e.paymentStep()})),n.Tc(112,"Next"),n.ac(),n.ac(),n.ac(),n.ac(),n.ac(),n.ac(),n.ac(),n.ac(),n.bc(113,"div",1),n.bc(114,"div",2),n.bc(115,"div",3),n.bc(116,"div",4),n.bc(117,"h3",5),n.Tc(118,"Book Slot"),n.ac(),n.ac(),n.bc(119,"div",6),n.bc(120,"div",7),n.bc(121,"div",8),n.bc(122,"div",9),n.bc(123,"h2",10),n.Tc(124,"Details"),n.ac(),n.ac(),n.bc(125,"div",11),n.bc(126,"div",12),n.bc(127,"div",45),n.bc(128,"label",14),n.bc(129,"strong"),n.Tc(130,"Hospital : "),n.ac(),n.ac(),n.bc(131,"label",14),n.Tc(132),n.ac(),n.ac(),n.bc(133,"div",45),n.bc(134,"label",14),n.bc(135,"strong"),n.Tc(136,"Branch : "),n.ac(),n.ac(),n.bc(137,"label",14),n.Tc(138),n.ac(),n.ac(),n.bc(139,"div",45),n.bc(140,"label",14),n.bc(141,"strong"),n.Tc(142,"Department : "),n.ac(),n.ac(),n.bc(143,"label",14),n.Tc(144),n.ac(),n.ac(),n.bc(145,"div",45),n.bc(146,"label",14),n.bc(147,"strong"),n.Tc(148,"Doctor : "),n.ac(),n.ac(),n.bc(149,"label",14),n.Tc(150),n.ac(),n.ac(),n.bc(151,"div",45),n.bc(152,"label",14),n.bc(153,"strong"),n.Tc(154,"Appointment Date : "),n.ac(),n.ac(),n.bc(155,"label",14),n.Tc(156),n.qc(157,"date"),n.ac(),n.ac(),n.bc(158,"div",45),n.bc(159,"label",14),n.bc(160,"strong"),n.Tc(161,"Timming : "),n.ac(),n.ac(),n.bc(162,"label",14),n.Tc(163),n.ac(),n.ac(),n.ac(),n.ac(),n.bc(164,"div",43),n.bc(165,"button",44),n.mc("click",(function(){return e.payment()})),n.Tc(166,"Confirm"),n.ac(),n.bc(167,"button",46),n.mc("click",(function(){return e.paymentcancel()})),n.Tc(168,"Back"),n.ac(),n.ac(),n.ac(),n.ac(),n.ac(),n.ac(),n.ac(),n.ac(),n.ac()}2&t&&(n.Jb(1),n.wc("hidden",!e.divstep1),n.Jb(19),n.wc("ngModel",e.HospitalId),n.Jb(4),n.wc("ngForOf",e.allhospitallst),n.Jb(6),n.wc("ngModel",e.BranchId),n.Jb(4),n.wc("ngForOf",e.allbranchlst),n.Jb(6),n.wc("ngModel",e.DepartmentId),n.Jb(4),n.wc("ngForOf",e.alldepartmentlst),n.Jb(6),n.wc("ngModel",e.DoctorId),n.Jb(4),n.wc("ngForOf",e.alldoctorlst),n.Jb(6),n.wc("ngModel",e.Subject),n.Jb(1),n.wc("hidden",!e.slotdivshow),n.Jb(20),n.wc("ngClass",1==e.cssclassdisplay1?"btn-primary":"btn-light"),n.Jb(2),n.Vc("",n.sc(84,31,e.display1date,"EEE")," "),n.Jb(3),n.Vc("",n.sc(87,34,e.display1date,"d MMM")," "),n.Jb(3),n.wc("ngClass",1==e.cssclassdisplay2?"btn-primary":"btn-light"),n.Jb(2),n.Vc("",n.sc(92,37,e.display2date,"EEE")," "),n.Jb(3),n.Vc("",n.sc(95,40,e.display2date,"d MMM")," "),n.Jb(3),n.wc("ngClass",1==e.cssclassdisplay3?"btn-primary":"btn-light"),n.Jb(2),n.Vc("",n.sc(100,43,e.display3date,"EEE")," "),n.Jb(3),n.Vc("",n.sc(103,46,e.display3date,"d MMM")," "),n.Jb(6),n.wc("ngForOf",e.allslotlst),n.Jb(1),n.wc("ngIf",0==(null==e.allslotlst?null:e.allslotlst.length)),n.Jb(4),n.wc("hidden",!e.divstep2),n.Jb(19),n.Vc(" ",null==e.hostpitalinfo?null:e.hostpitalinfo.HospitalName,""),n.Jb(6),n.Vc(" ",null==e.branchinfo?null:e.branchinfo.BranchName,""),n.Jb(6),n.Vc(" ",null==e.departmentinfo?null:e.departmentinfo.DepartmentName,""),n.Jb(6),n.Xc(" ",null==e.doctorname?null:e.doctorname.FirstName," ",null==e.doctorname?null:e.doctorname.MiddleName," ",null==e.doctorname?null:e.doctorname.LastName,""),n.Jb(6),n.Vc(" ",n.rc(157,49,e.appointmentdisplay),""),n.Jb(7),n.Vc(" ",e.slotdisplay," "))},directives:[a.v,a.o,a.r,a.s,a.x,s.m,a.c,a.j,s.l,s.n],pipes:[s.e],styles:[".odd[_ngcontent-%COMP%]{background-color:#fd9a57}.even[_ngcontent-%COMP%], .odd[_ngcontent-%COMP%]{display:inline-block;padding:2px 7px;height:26px;font-size:18px;line-height:23px;border-radius:4px;margin-top:8px;margin-left:2px}.even[_ngcontent-%COMP%]{background-color:#f1cf6b}"]}),t})();var It=c("lbE5"),Tt=c("tk/3"),Dt=c("mqiu");function St(t){return new Dt.a(t)}let Mt=(()=>{class t{}return t.\u0275mod=n.Ub({type:t}),t.\u0275inj=n.Tb({factory:function(e){return new(e||t)},providers:[],imports:[[s.c,a.i,ht.b,It.a,a.u,Z.a,w.b.forChild({loader:{provide:w.a,useFactory:St,deps:[Tt.b]}}),i.f.forChild([{path:"dashboard",component:d},{path:"profile",component:K},{path:"profilepic",component:Y},{path:"bookslot",component:yt},{path:"appointmentlist",component:nt},{path:"consultationroom",component:bt}])]]}),t})()}}]);